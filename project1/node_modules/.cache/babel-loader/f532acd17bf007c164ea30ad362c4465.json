{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rafae\\\\Desktop\\\\ReactJs_NextJs\\\\project1\\\\src\\\\templates\\\\Home\\\\index.jsx\";\nimport \"./styles.css\";\nimport { Component } from \"react/cjs/react.production.min\";\nimport { loadPosts } from \"../../utils/load-posts\";\nimport { Posts } from \"../../components/Posts\";\nimport { Button } from \"../../components/Button\";\nimport { TextInput } from \"../../components/TextInput\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Home extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      //counter: 0,\n      posts: [// {\n        //   id: 1,\n        //   title: 'O titulo 1',\n        //   body: 'O corpo 1',\n        // },\n        // {\n        //   id: 2,\n        //   title: 'O titulo 2',\n        //   body: 'O corpo 2',\n        // },\n        // {\n        //   id: 3,\n        //   title: 'O titulo 3',\n        //   body: 'O corpo 3',\n        // },\n      ],\n      allPosts: [],\n      page: 0,\n      postPerPage: 10,\n      searchValue: \"\"\n    };\n\n    this.loadPosts = async () => {\n      const {\n        page,\n        postPerPage\n      } = this.state;\n      const postAndPhotos = await loadPosts();\n      this.setState({\n        posts: postAndPhotos.slice(page, postPerPage),\n        allPosts: postAndPhotos\n      });\n    };\n\n    this.loadMorePosts = () => {\n      const {\n        page,\n        postPerPage,\n        allPosts,\n        posts\n      } = this.state;\n      const nextPage = page + postPerPage;\n      const nextPosts = allPosts.slice(nextPage, nextPage + postPerPage);\n      posts.push(...nextPosts);\n      this.setState({\n        posts,\n        page: nextPage\n      });\n    };\n\n    this.handleChange = e => {\n      const {\n        value\n      } = e.target;\n      this.setState({\n        searchValue: value\n      });\n    };\n  }\n\n  //timeoutUpdate = null;\n  async componentDidMount() {\n    //this.handleTimeout();\n    await this.loadPosts();\n  }\n\n  componentDidUpdate() {// this.handleTimeout();\n  }\n\n  componentWillUnmount() {//clearTimeout(this.timeoutUpdate);\n  } // handleTimeout = () =>{\n  //   const {posts, counter} = this.state;\n  //   posts[0].title = 'O título mudou';\n  //   this.timeoutUpdate = setTimeout(() => {\n  //     this.setState({posts, counter: counter + 1});\n  //   }, 1000)\n  // }\n\n\n  render() {\n    const {\n      posts,\n      page,\n      postPerPage,\n      allPosts,\n      searchValue\n    } = this.state;\n    const noMorePosts = page + postPerPage >= allPosts.lenght;\n    const filteredPosts = searchValue ? allPosts.filter(post => {\n      return post.title.toLowerCase().includes(searchValue.toLowerCase());\n    }) : posts;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [!!searchValue && /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Search value: \", searchValue]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n          searchValue: searchValue,\n          handleChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), filteredPosts.length > 0 && /*#__PURE__*/_jsxDEV(Posts, {\n        posts: filteredPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 46\n      }, this), filteredPosts.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"N\\xE3o existem posts =(\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 48\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: !searchValue && /*#__PURE__*/_jsxDEV(Button, {\n          text: \"Load More Posts\",\n          onClick: this.loadMorePosts,\n          disabled: noMorePosts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this);\n  }\n\n} // function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }","map":{"version":3,"sources":["C:/Users/rafae/Desktop/ReactJs_NextJs/project1/src/templates/Home/index.jsx"],"names":["Component","loadPosts","Posts","Button","TextInput","useCallback","useEffect","useState","Home","state","posts","allPosts","page","postPerPage","searchValue","postAndPhotos","setState","slice","loadMorePosts","nextPage","nextPosts","push","handleChange","e","value","target","componentDidMount","componentDidUpdate","componentWillUnmount","render","noMorePosts","lenght","filteredPosts","filter","post","title","toLowerCase","includes","length"],"mappings":";AAAA,OAAO,cAAP;AACA,SAASA,SAAT,QAA0B,gCAA1B;AAEA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,MAAT,QAAuB,yBAAvB;AACA,SAASC,SAAT,QAA0B,4BAA1B;AAEA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;;AAEA,OAAO,MAAMC,IAAN,SAAmBR,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAUhCS,KAVgC,GAUxB;AACJ;AACAC,MAAAA,KAAK,EAAE,CACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfG,OAFH;AAmBJC,MAAAA,QAAQ,EAAE,EAnBN;AAoBJC,MAAAA,IAAI,EAAE,CApBF;AAqBJC,MAAAA,WAAW,EAAE,EArBT;AAsBJC,MAAAA,WAAW,EAAE;AAtBT,KAVwB;;AAAA,SA0ChCb,SA1CgC,GA0CpB,YAAY;AACpB,YAAM;AAAEW,QAAAA,IAAF;AAAQC,QAAAA;AAAR,UAAwB,KAAKJ,KAAnC;AACA,YAAMM,aAAa,GAAG,MAAMd,SAAS,EAArC;AACA,WAAKe,QAAL,CAAc;AACVN,QAAAA,KAAK,EAAEK,aAAa,CAACE,KAAd,CAAoBL,IAApB,EAA0BC,WAA1B,CADG;AAEVF,QAAAA,QAAQ,EAAEI;AAFA,OAAd;AAIH,KAjD+B;;AAAA,SAmDhCG,aAnDgC,GAmDhB,MAAM;AAClB,YAAM;AAAEN,QAAAA,IAAF;AAAQC,QAAAA,WAAR;AAAqBF,QAAAA,QAArB;AAA+BD,QAAAA;AAA/B,UAAyC,KAAKD,KAApD;AACA,YAAMU,QAAQ,GAAGP,IAAI,GAAGC,WAAxB;AACA,YAAMO,SAAS,GAAGT,QAAQ,CAACM,KAAT,CAAeE,QAAf,EAAyBA,QAAQ,GAAGN,WAApC,CAAlB;AACAH,MAAAA,KAAK,CAACW,IAAN,CAAW,GAAGD,SAAd;AAEA,WAAKJ,QAAL,CAAc;AAAEN,QAAAA,KAAF;AAASE,QAAAA,IAAI,EAAEO;AAAf,OAAd;AACH,KA1D+B;;AAAA,SA4EhCG,YA5EgC,GA4EhBC,CAAD,IAAO;AAClB,YAAM;AAAEC,QAAAA;AAAF,UAAYD,CAAC,CAACE,MAApB;AACA,WAAKT,QAAL,CAAc;AAAEF,QAAAA,WAAW,EAAEU;AAAf,OAAd;AACH,KA/E+B;AAAA;;AAmChC;AAEuB,QAAjBE,iBAAiB,GAAG;AACtB;AACA,UAAM,KAAKzB,SAAL,EAAN;AACH;;AAoBD0B,EAAAA,kBAAkB,GAAG,CACjB;AACH;;AAEDC,EAAAA,oBAAoB,GAAG,CACnB;AACH,GAlE+B,CAoEhC;AACA;AACA;AACA;AACA;AACA;AACA;;;AAOAC,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEnB,MAAAA,KAAF;AAASE,MAAAA,IAAT;AAAeC,MAAAA,WAAf;AAA4BF,MAAAA,QAA5B;AAAsCG,MAAAA;AAAtC,QAAsD,KAAKL,KAAjE;AACA,UAAMqB,WAAW,GAAGlB,IAAI,GAAGC,WAAP,IAAsBF,QAAQ,CAACoB,MAAnD;AAEA,UAAMC,aAAa,GAAGlB,WAAW,GAC3BH,QAAQ,CAACsB,MAAT,CAAiBC,IAAD,IAAU;AACxB,aAAOA,IAAI,CAACC,KAAL,CACFC,WADE,GAEFC,QAFE,CAEOvB,WAAW,CAACsB,WAAZ,EAFP,CAAP;AAGH,KAJC,CAD2B,GAM3B1B,KANN;AAQA,wBACI;AAAS,MAAA,SAAS,EAAC,WAAnB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,mBACK,CAAC,CAACI,WAAF,iBAAiB;AAAA,uCAAmBA,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADtB,eAGI,QAAC,SAAD;AACI,UAAA,WAAW,EAAEA,WADjB;AAEI,UAAA,YAAY,EAAE,KAAKQ;AAFvB;AAAA;AAAA;AAAA;AAAA,gBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAUKU,aAAa,CAACM,MAAd,GAAuB,CAAvB,iBAA4B,QAAC,KAAD;AAAO,QAAA,KAAK,EAAEN;AAAd;AAAA;AAAA;AAAA;AAAA,cAVjC,EAYKA,aAAa,CAACM,MAAd,KAAyB,CAAzB,iBAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZnC,eAcI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,kBACK,CAACxB,WAAD,iBACG,QAAC,MAAD;AACI,UAAA,IAAI,EAAC,iBADT;AAEI,UAAA,OAAO,EAAE,KAAKI,aAFlB;AAGI,UAAA,QAAQ,EAAEY;AAHd;AAAA;AAAA;AAAA;AAAA;AAFR;AAAA;AAAA;AAAA;AAAA,cAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA0BH;;AAvH+B,C,CA0HpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import \"./styles.css\";\nimport { Component } from \"react/cjs/react.production.min\";\n\nimport { loadPosts } from \"../../utils/load-posts\";\nimport { Posts } from \"../../components/Posts\";\nimport { Button } from \"../../components/Button\";\nimport { TextInput } from \"../../components/TextInput\";\n\nimport { useCallback, useEffect, useState } from \"react\";\n\nexport class Home extends Component {\n    // constructor(props){\n    //   super(props);\n    //   this.handlePClick = this.handlePClick.bind(this);\n    //   this.state = {\n    //     name: 'Rafael kenne',\n    //     counter : 0\n    //   };\n    // }\n\n    state = {\n        //counter: 0,\n        posts: [\n            // {\n            //   id: 1,\n            //   title: 'O titulo 1',\n            //   body: 'O corpo 1',\n            // },\n            // {\n            //   id: 2,\n            //   title: 'O titulo 2',\n            //   body: 'O corpo 2',\n            // },\n            // {\n            //   id: 3,\n            //   title: 'O titulo 3',\n            //   body: 'O corpo 3',\n            // },\n        ],\n        allPosts: [],\n        page: 0,\n        postPerPage: 10,\n        searchValue: \"\",\n    };\n\n    //timeoutUpdate = null;\n\n    async componentDidMount() {\n        //this.handleTimeout();\n        await this.loadPosts();\n    }\n\n    loadPosts = async () => {\n        const { page, postPerPage } = this.state;\n        const postAndPhotos = await loadPosts();\n        this.setState({\n            posts: postAndPhotos.slice(page, postPerPage),\n            allPosts: postAndPhotos,\n        });\n    };\n\n    loadMorePosts = () => {\n        const { page, postPerPage, allPosts, posts } = this.state;\n        const nextPage = page + postPerPage;\n        const nextPosts = allPosts.slice(nextPage, nextPage + postPerPage);\n        posts.push(...nextPosts);\n\n        this.setState({ posts, page: nextPage });\n    };\n\n    componentDidUpdate() {\n        // this.handleTimeout();\n    }\n\n    componentWillUnmount() {\n        //clearTimeout(this.timeoutUpdate);\n    }\n\n    // handleTimeout = () =>{\n    //   const {posts, counter} = this.state;\n    //   posts[0].title = 'O título mudou';\n    //   this.timeoutUpdate = setTimeout(() => {\n    //     this.setState({posts, counter: counter + 1});\n    //   }, 1000)\n    // }\n\n    handleChange = (e) => {\n        const { value } = e.target;\n        this.setState({ searchValue: value });\n    };\n\n    render() {\n        const { posts, page, postPerPage, allPosts, searchValue } = this.state;\n        const noMorePosts = page + postPerPage >= allPosts.lenght;\n\n        const filteredPosts = searchValue\n            ? allPosts.filter((post) => {\n                return post.title\n                    .toLowerCase()\n                    .includes(searchValue.toLowerCase());\n            })\n            : posts;\n\n        return (\n            <section className=\"container\">\n                <div className=\"search-container\">\n                    {!!searchValue && <h1>Search value: {searchValue}</h1>}\n\n                    <TextInput\n                        searchValue={searchValue}\n                        handleChange={this.handleChange}\n                    />\n                </div>\n\n                {filteredPosts.length > 0 && <Posts posts={filteredPosts} />}\n\n                {filteredPosts.length === 0 && <p>Não existem posts =(</p>}\n\n                <div className=\"button-container\">\n                    {!searchValue && (\n                        <Button\n                            text=\"Load More Posts\"\n                            onClick={this.loadMorePosts}\n                            disabled={noMorePosts}\n                        />\n                    )}\n                </div>\n            </section>\n        );\n    }\n}\n\n// function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n"]},"metadata":{},"sourceType":"module"}